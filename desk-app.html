<!--
@license
Copyright (c) 2016 The Jviz Project Authors. All rights reserved.
The Jviz Project is under the MIT License. See https://github.com/jviz/jviz/blob/dev/LICENSE
-->

<!-- Import dependencies -->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../jviz/jviz.html">
<link rel="import" href="../jviz-styles/jviz-styles.html">
<link rel="import" href="../jviz-icons/jviz-icons.html">

<!-- Import desk components -->
<link rel="import" href="../desk-styles/desk-styles.html">

<!-- Desk app module -->
<dom-module id="desk-app">
  <template>
    <style>
      :host
      {
        display: block;
        width: 100%;
        height: 100%;
        position: relative;
        overflow: hidden;
      }
      :host .navbar
      {
        display: none;
        position: absolute;
        top: 0px;
      }
      :host[has-navbar] .navbar
      {
        display: block;
        width: 100%;
        height: var(--desk-navbar--height);
        left: 0px;
      }
      :host[has-sidebar] .navbar
      {
        width: calc(100% - var(--desk-sidebar--width)) !important;
        left: var(--desk-sidebar--width);
      }
      :host .sidebar
      {
        display: none;
        position: absolute;
        top: 0px;
        left: 0px;
      }
      :host[has-sidebar] .sidebar
      {
        display: block;
        height: 100%;
      }
      :host .content
      {
        width: calc(100% - 2*var(--desk-app-content--padding));
        height: calc(100% - 2*var(--desk-app-content--padding));
        display: block;
        position: absolute;
        overflow-x: hidden;
        padding: var(--desk-app-content--padding);
      }
      :host[has-sidebar] .content
      {
        width: calc(100% - var(--desk-sidebar--width) - 2*var(--desk-app-content--padding));
        left: var(--desk-sidebar--width);
      }
      :host[has-navbar] .content
      {
        height: calc(100% - 2*var(--desk-app-content--padding) - var(--desk-navbar--height));
        top: var(--desk-navbar--height);
      }
    </style>
    <div class="sidebar"><content select="desk-sidebar"></content></div>
    <div class="navbar"><content select="desk-navbar"></content></div>
    <div class="content"><content></content></div>
  </template>
</dom-module>

<!-- Desk app logic -->
<script>
  //Initialize the desk app object
  var desk_app = { is: 'desk-app' };

  //Properties
  desk_app.properties = {};
  desk_app.properties.hasNavbar = { type: Boolean, reflectToAttribute: true, value: false };
  desk_app.properties.hasSidebar = { type: Boolean, reflectToAttribute: true, value: false };

  //Register the desk app element
  Polymer(desk_app);
</script>
